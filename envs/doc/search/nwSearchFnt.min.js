/*
 *  The Syncro Soft SRL License
 *
 *  Copyright (c) 1998-2012 Syncro Soft SRL, Romania.  All rights
 *  reserved.
 *
 *  Redistribution and use in source and binary forms, with or without
 *  modification, are permitted provided that the following conditions
 *  are met:
 *
 *  1. Redistribution of source or in binary form is allowed only with
 *  the prior written permission of Syncro Soft SRL.
 *
 *  2. Redistributions of source code must retain the above copyright
 *  notice, this list of conditions and the following disclaimer.
 *
 *  3. Redistributions in binary form must reproduce the above copyright
 *  notice, this list of conditions and the following disclaimer in
 *  the documentation and/or other materials provided with the
 *  distribution.
 *
 *  4. The end-user documentation included with the redistribution,
 *  if any, must include the following acknowledgment:
 *  "This product includes software developed by the
 *  Syncro Soft SRL (http://www.sync.ro/)."
 *  Alternately, this acknowledgment may appear in the software itself,
 *  if and wherever such third-party acknowledgments normally appear.
 *
 *  5. The names "Oxygen" and "Syncro Soft SRL" must
 *  not be used to endorse or promote products derived from this
 *  software without prior written permission. For written
 *  permission, please contact support@oxygenxml.com.
 *
 *  6. Products derived from this software may not be called "Oxygen",
 *  nor may "Oxygen" appear in their name, without prior written
 *  permission of the Syncro Soft SRL.
 *
 *  THIS SOFTWARE IS PROVIDED ``AS IS'' AND ANY EXPRESSED OR IMPLIED
 *  WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES
 *  OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 *  DISCLAIMED.  IN NO EVENT SHALL THE SYNCRO SOFT SRL OR
 *  ITS CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 *  SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 *  LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF
 *  USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
 *  ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
 *  OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT
 *  OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
 *  SUCH DAMAGE.
 */

var headElem=document.getElementsByTagName("head")[0]; var headLinks=headElem.getElementsByTagName("link"); if(headLinks.length==1){var pathPrefix=""}else{var pathPrefix="../"}var htmlfileList="htmlFileList.js";var htmlfileinfoList="htmlFileInfoList.js";var useCJKTokenizing=false;var w=new Object();var scoring=new Object();var searchTextField="";var no=0;var noWords=0;var partialSearch1="There is no page containing all the search terms.";var partialSearch2="Partial results:";var warningMsg='<div style="padding: 5px;margin-right:5px;;background-color:#FFFF00;">';warningMsg+="<b>Please note that due to security settings, Google Chrome does not highlight";warningMsg+=" the search results in the right frame.</b><br>";warningMsg+="This happens only when the WebHelp files are loaded from the local file system.<br>";warningMsg+="Workarounds:";warningMsg+="<ul>";warningMsg+="<li>Try using another web browser.</li>";warningMsg+="<li>Deploy the WebHelp files on a web server.</li>";warningMsg+="</div>";var txt_filesfound="Results";var txt_enter_at_least_1_char="You must enter at least one character.";var txt_enter_more_than_10_words="Only first 10 words will be processed.";var txt_browser_not_supported="Your browser is not supported. Use of Mozilla Firefox is recommended.";var txt_please_wait="Please wait. Search in progress...";var txt_results_for="Results for:";function SearchToc(e){if(navigator.userAgent.indexOf("Konquerer")>-1){alert(getLocalization(txt_browser_not_supported));return}searchTextField=e;searchTextField=searchTextField.replace(/</g," ");searchTextField=searchTextField.replace(/>/g," ");searchTextField=searchTextField.replace(/\"/g," ");searchTextField=searchTextField.replace(/\'/g," ");searchTextField=searchTextField.replace(/=/g," ");searchTextField=searchTextField.replace(/\(/g," ");searchTextField=searchTextField.replace(/\)/g," ");var d=searchTextField;var b=new Array();if(d.length<1){alert(getLocalization(txt_enter_at_least_1_char))}else{var c=searchTextField.split(" ");noWords=c;if(noWords.length>9){alert(getLocalization(txt_enter_more_than_10_words));d="";for(var a=0;a<10;a++){d=d+" "+noWords[a]}b=realSearch(d)}else{d="";for(var a=0;a<noWords.length;a++){d=d+" "+noWords[a]}b=realSearch(d)}}return b}var stemQueryMap=new Array();var scriptLetterTab=null;function realSearch(h){scriptLetterTab=new Scriptfirstchar();var P="";var c=new Array();var q=new Array();var J=new Array();var B=new Array();var u="";var N=new Array();P=h.toLowerCase().replace(/<\//g,"_st_").replace(/\$_/g,"_di_").replace(/%2C|%3B|%21|%3A|@|\/|\*/g," ").replace(/(%20)+/g," ").replace(/_st_/g,"</").replace(/_di_/g,"%24_");P=P.replace(/  +/g," ");P=P.replace(/ $/,"").replace(/^ /,"");c=P.split(" ");c.sort();if(typeof indexerLanguage!="undefined"&&(indexerLanguage=="zh"||indexerLanguage=="ja"||indexerLanguage=="ko")){useCJKTokenizing=true}else{useCJKTokenizing=false}var l;if(doStem){if(useCJKTokenizing){q=cjkTokenize(c);l=q}else{q=tokenize(c)}}else{if(useCJKTokenizing){q=cjkTokenize(c);l=q}}if(!useCJKTokenizing){var e=new Array();var n=h.split(" ");q=q.concat(n);l=q;l=removeDuplicate(l);var m="";for(var E in q){if(doStem){if(w[q[E].toString()]==undefined){u+=q[E]+" ";var k=wordsStartsWith(q[E].toString());if(k!=undefined){e.concat(k)}}else{e.push(q[E])}}else{var A=q[E].toString();var k=wordsStartsWith(A);if(k!=undefined){m+=k}}}m=m.substr(0,m.length-1);if(!doStem){q=m.split(",")}else{q=e}u=h;q=removeDuplicate(q)}if(q.length){B=SortResults(q);var C=0;if(B!=undefined){C=B.length;var z=B[0][0].motsnb}if(C>0){var O=noWords.length;var g=B[0][0].motslisteDisplay.split(",").length;if(O!=g){J.push('<font class="highlightText">'+getLocalization(partialSearch1)+"<br>"+getLocalization(partialSearch2)+"</font>")}}for(var L=0;L<C;L++){var H=B[L][0].scoring+100*B[L][0].motsnb;var j=B[L][0].scoring;var r=B[L][0].motsnb;if(B[L]!=undefined){for(E in B[L]){var K=B[L][E].filenb;var Q=B[L][E].scoring;var v=fil[K];var b=v.indexOf("@@@");var a=v.lastIndexOf("@@@");var s=v.substring(0,b);var D=v.substring(b+3,a);var f=v.substring(a+3,v.length);if(s=="toc.html"){continue}s=pathPrefix+s;D=D.replace(/ :: .+$/,"");var p=B[L][E].motsliste.split(",");arrayString="Array(";for(var y in l){if(l[y].length>2||useCJKTokenizing){arrayString+="'"+l[y]+"',"}}arrayString=arrayString.substring(0,arrayString.length-1)+")";arrayString=arrayString.replace(".","\\\\.");var I="foundLink"+no;var d="return openAndHighlight('"+s+"', "+arrayString+", '"+I+"')";var F='<li><a id="'+I+'" href="'+s+'" class="foundResult" onclick="'+d+'">'+D+"</a>";var M=(Q*100/H)/(j/H)*(r/z);M=M<10?(M+5):M;if(M>85){M=85}if((f!="null"&&f!="...")){F+='\n<div class="shortdesclink">'+f+"</div>"}F+='<div id="rightDiv">';F+='<div id="star">';F+='<div id="star0" class="star">';F+='<div id="starCur0" class="curr" style="width: '+M+'px;">&nbsp;</div>';F+="</div>";F+='<br style="clear: both;">';F+="</div>";F+="</div>";F+="</li>";J.push(F);no++;var G=[{title:D,href:s,text:f,bold:q}];N=N.concat(G)}J.push("</ul>")}}}return N}function wordsStartsWith(b){var c="";if(b.length<3){return undefined}for(var a in w){if(a.toLowerCase().indexOf(b.toLowerCase())>=0){c+=a+","}}return c.length>0?c:undefined}function tokenize(a){var g=new Array();var f=new Array();for(var d in a){var b=a[d];if(typeof stemmer!="undefined"){stemQueryMap[stemmer(b)]=b}else{stemQueryMap[b]=b}}scriptLetterTab.add("s");for(var k in a){a[k]=a[k].replace(/(%22)|^-/g,"");if(a[k]!="%20"){var h=a[k].charAt(0);scriptLetterTab.add(h);f.push(a[k])}}if(typeof stemmer!="undefined"){for(var e=0;e<f.length;e++){var c=stemmer(f[e]);g.push(c)}}else{g=f}return g}function cjkTokenize(c){var f=new Array();var e=new Array();var b=0;for(b=0;b<c.length;b++){var g=c[b];if(getAvgAsciiValue(g)<127){e.push(g)}else{var d=new CJKTokenizer(g);var a=d.getAllTokens();f=f.concat(a)}}f=f.concat(tokenize(e));return f}function getAvgAsciiValue(d){var c=0;var a=d.length<5?d.length:5;for(var b=0;b<a;b++){if(b==5){break}c+=d.charCodeAt(b)}return c/a}function CJKTokenizer(a){this.input=a;this.offset=-1;this.tokens=new Array();this.incrementToken=c;this.tokenize=e;this.getAllTokens=b;this.unique=d;function c(){if(this.input.length-2<=this.offset){return false}else{this.offset+=1;return true}}function e(){return this.input.substring(this.offset,this.offset+2)}function b(){while(this.incrementToken()){var f=this.tokenize();this.tokens.push(f)}return this.unique(this.tokens)}function d(g){var j=new Array();o:for(var h=0,l=g.length;h<l;h++){for(var f=0,k=j.length;f<k;f++){if(j[f]==g[h]){continue o}}j[j.length]=g[h]}return j}}function Scriptfirstchar(){this.strLetters=""}Scriptfirstchar.prototype.add=function(a){if(typeof this.strLetters=="undefined"){this.strLetters=a}else{if(this.strLetters.indexOf(a)<0){this.strLetters+=a}}return 0};function unique(e){var c=new Array();var d;var b=e.length;if(e[0]!=undefined){c[0]=e[0]}else{return -1}for(d=1;d<b;d++){if(indexof(c,e[d],0)<0){c.push(e[d])}}return c}function indexof(d,b,c){for(var a=c;a<d.length;a++){if(d[a]==b){return a}}return -1}function SortResults(l){var q=new Object();if(l.length==0||l[0].length==0){return null}var m=Array();for(var h in l){var a=w[l[h].toString()];var b=a.split(",");for(var f in b){var y="";var k="";var u=b[f].toString();if(u.indexOf("*")!=-1){k=u.indexOf("*");y=u.substring(k+3,u.length);u=u.substring(0,k)}m.push(y);if(q[u]==undefined){q[u]=""+l[h]}else{q[u]+=","+l[h]}}}var s=new Array();var v=new Array();finalObj=new Array();for(h in q){finalObj.push(new newObj(h,q[h]))}finalObj=removeDerivates(finalObj);for(h in finalObj){b=finalObj[h].wordList.split(",");var c=new Array();for(var g in b){if(stemQueryMap[b[g]]!=undefined&&doStem){c.push(stemQueryMap[b[g]])}else{c.push(b[g])}}var d=c.join(", ");var e;for(g in q){if(g===finalObj[h].filesNo){e=g;break}}var z=findRating(q[e],e);v.push(new resultPerFile(finalObj[h].filesNo,finalObj[h].wordList,b.length,d,z));s.push(finalObj[h].wordList)}s=unique(s);s=s.sort(compareWords);var n=new Array();for(var p in s){for(h in v){if(v[h].motsliste==s[p]){if(n[p]==undefined){n[p]=new Array(v[h])}else{n[p].push(v[h])}}}}for(var r in n){n[r].sort(function(t,j){return j.scoring-t.scoring})}for(var r=0;r<n.length-1;r++){for(var p=r+1;p<n.length;p++){if(n[r][0].motsnb<n[p][0].motsnb||(n[r][0].motsnb==n[p][0].motsnb&&n[r][0].scoring<n[p][0].scoring)){var g=n[r];n[r]=n[p];n[p]=g}}}return n}function removeDerivates(d){var l=new Array();for(i in d){var m=d[i].filesNo;var a=d[i].wordList;var f=a.split(",");var g=searchTextField.toLowerCase().split(" ");for(var b=0;b<g.length;b++){for(var c=0;c<f.length;c++){if(f[c].startsWith(g[b])){f[c]=g[b]}}}f=removeDuplicate(f);var e="";for(var h in f){e+=f[h]+","}e=e.substr(0,e.length-1);l.push(new newObj(m,e))}return l}function newObj(b,a){this.filesNo=b;this.wordList=a}function resultPerFile(b,c,d,a,e,f){this.filenb=b;this.motsliste=c;this.motsnb=d;this.motslisteDisplay=a;this.scoring=e}function findRating(h,f){var d=0;var g=h.split(",");for(var e=0;e<g.length;e++){var b=w[g[e]].split(",");for(var c=0;c<b.length;c++){var a=b[c].split("*");if(a[0]==f){d+=parseInt(a[1])}}}return d}function compareWords(b,a){var d=b.split(",");var c=a.split(",");if(d.length==c.length){return 0}else{if(d.length>c.length){return 1}else{return -1}}}function removeDuplicate(b){var d=new Array();o:for(var c=0,f=b.length;c<f;c++){for(var a=0,e=d.length;a<e;a++){if(d[a]==b[c]){continue o}}d[d.length]=b[c]}return d}String.prototype.startsWith=function(a){return(this.match("^"+a)==a)};function trim(b,a){return ltrim(rtrim(b,a),a)}function ltrim(b,a){a=a||"\\s";return b.replace(new RegExp("^["+a+"]+","g"),"")}function rtrim(b,a){a=a||"\\s";return b.replace(new RegExp("["+a+"]+$","g"),"")};
